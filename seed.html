<!doctype html>
<html lang="pt-br">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Seed Ponto Zero</title>
    <style>
        body {
            font-family: system-ui, Arial;
            margin: 24px;
            max-width: 860px
        }

        button {
            padding: 12px 14px;
            border-radius: 12px;
            border: 1px solid #ccc;
            cursor: pointer;
            font-weight: 700
        }

        pre {
            background: #111;
            color: #0f0;
            padding: 12px;
            border-radius: 12px;
            overflow: auto
        }
    </style>
</head>

<body>
    <h1>Seed Firestore (Ponto Zero)</h1>
    <p>Abra com Live Server. Clique uma vez. Depois volte as regras para read-only.</p>

    <button id="go">Criar cole√ß√µes e encher dados</button>
    <pre id="log">Pronta para semear üå±</pre>

    <script type="module">
        import { db } from "./js/firebase.js";
        import {
            doc, setDoc
        } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";

        const log = (msg) => {
            const el = document.getElementById("log");
            el.textContent += "\\n" + msg;
        };

        const slug = (s) =>
            (s || "")
                .toLowerCase()
                .normalize("NFD").replace(/[\u0300-\u036f]/g, "") // tira acento
                .replace(/\s+/g, " ")
                .trim();

        // ============================
        // DADOS (voc√™ + extras)
        // ============================

        const cursos = [
            {
                id: "fundat",
                nome: "FUNDAT (Aracaju) ‚Äì Cursos r√°pidos",
                area: "Qualifica√ß√£o",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.instagram.com/fundat_aracaju/",
                descricao: "Cursos presenciais, inscri√ß√µes normalmente presenciais; comunicam datas pelo Instagram. Dura√ß√£o curta."
            },
            {
                id: "senac_gratuitos",
                nome: "SENAC ‚Äì Cursos gratuitos online",
                area: "Tecnologia e servi√ßos",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.senac.br/",
                descricao: "Cursos gratuitos e oportunidades como jovem aprendiz (varia por regi√£o)."
            },
            {
                id: "senai_gratuitos",
                nome: "SENAI ‚Äì Cursos e jovem aprendiz",
                area: "Tecnologia/Ind√∫stria",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.senai.br/",
                descricao: "Muitas op√ß√µes em tecnologia e cursos livres; pode ter programas de aprendizagem."
            },
            {
                id: "unova",
                nome: "UNOVA ‚Äì Cursos (certificado opcional)",
                area: "Administra√ß√£o, inform√°tica, marketing, idiomas",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.pensarcursos.com.br/",
                descricao: "Cursos gr√°tis com certificado opcional (pode ser pago em algumas trilhas)."
            },
            {
                id: "pensa_cursos",
                nome: "PENSA CURSOS ‚Äì Cursos online com certificado",
                area: "Multidisciplinar",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.pensarcursos.com.br/",
                descricao: "Cursos online; geralmente conclui r√°pido; certificado ao final (ver regras da plataforma)."
            },
            {
                id: "ifs",
                nome: "IFS ‚Äì Instituto Federal de Sergipe",
                area: "T√©cnico e Superior",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.ifs.edu.br/",
                descricao: "Cursos t√©cnicos/superiores e ofertas EAD/presenciais (dependendo dos editais)."
            },
            {
                id: "cebrac",
                nome: "CEBRAC ‚Äì Cursos profissionalizantes (Aracaju)",
                area: "Profissionalizante",
                tipo: "pago",
                certificado: true,
                link: "https://cebrac.com.br/",
                descricao: "Qualifica√ß√£o para mercado de trabalho, unidades presenciais."
            },
            {
                id: "senai_cetcc",
                nome: "SENAI-SE (CETCC) ‚Äì Cursos livres e t√©cnicos",
                area: "Tecnologia e gest√£o",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.senai-se.org.br/",
                descricao: "Cursos online/presenciais (quando dispon√≠veis), foco em empregabilidade."
            },
            // =====================
            // CURSOS ‚Äî TECNOLOGIA
            // =====================
            {
                id: "logica_programacao",
                nome: "L√≥gica de Programa√ß√£o ‚Äì Iniciante",
                area: "Tecnologia",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.pensarcursos.com.br/",
                descricao: "Base para quem quer entrar em programa√ß√£o, mesmo sem experi√™ncia."
            },
            {
                id: "html_css",
                nome: "HTML e CSS ‚Äì Cria√ß√£o de Sites",
                area: "Tecnologia",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.pensarcursos.com.br/",
                descricao: "Introdu√ß√£o ao desenvolvimento web e design b√°sico."
            },
            {
                id: "javascript_basico",
                nome: "JavaScript ‚Äì B√°sico",
                area: "Tecnologia",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.pensarcursos.com.br/",
                descricao: "Primeiros passos com JavaScript e l√≥gica aplicada."
            },
            {
                id: "informatica_avancada",
                nome: "Inform√°tica Avan√ßada",
                area: "Tecnologia",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.pensarcursos.com.br/",
                descricao: "Pacote Office, internet, produtividade e rotinas administrativas."
            },

            // =====================
            // CURSOS ‚Äî ADMIN / GEST√ÉO
            // =====================
            {
                id: "administracao_basica",
                nome: "Administra√ß√£o B√°sica",
                area: "Administra√ß√£o",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.pensarcursos.com.br/",
                descricao: "Introdu√ß√£o √† gest√£o, empresas e rotinas administrativas."
            },
            {
                id: "rh_basico",
                nome: "Recursos Humanos ‚Äì B√°sico",
                area: "Administra√ß√£o",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.pensarcursos.com.br/",
                descricao: "No√ß√µes de RH, recrutamento e organiza√ß√£o interna."
            },
            {
                id: "financeiro_pessoal",
                nome: "Educa√ß√£o Financeira Pessoal",
                area: "Finan√ßas",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.pensarcursos.com.br/",
                descricao: "Controle financeiro pessoal e planejamento."
            },

            // =====================
            // CURSOS ‚Äî MARKETING / DESIGN
            // =====================
            {
                id: "marketing_digital",
                nome: "Marketing Digital ‚Äì Iniciante",
                area: "Marketing",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.pensarcursos.com.br/",
                descricao: "No√ß√µes de redes sociais, an√∫ncios e presen√ßa online."
            },
            {
                id: "design_grafico",
                nome: "Design Gr√°fico ‚Äì Fundamentos",
                area: "Design",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.pensarcursos.com.br/",
                descricao: "Introdu√ß√£o ao design visual e comunica√ß√£o gr√°fica."
            },
            {
                id: "canva_pratico",
                nome: "Canva ‚Äì Cria√ß√£o de Artes",
                area: "Design",
                tipo: "gratuito",
                certificado: false,
                link: "https://www.canva.com/",
                descricao: "Cria√ß√£o r√°pida de artes para redes sociais e trabalhos."
            },

            // =====================
            // CURSOS ‚Äî IDIOMAS
            // =====================
            {
                id: "ingles_basico_cert",
                nome: "Ingl√™s B√°sico com Certificado",
                area: "Idiomas",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.pensarcursos.com.br/",
                descricao: "Vocabul√°rio essencial para trabalho e estudo."
            },
            {
                id: "espanhol_basico",
                nome: "Espanhol B√°sico",
                area: "Idiomas",
                tipo: "gratuito",
                certificado: true,
                link: "https://www.pensarcursos.com.br/",
                descricao: "Introdu√ß√£o ao espanhol para comunica√ß√£o b√°sica."
            },

            // =====================
            // CURSOS ‚Äî CARREIRA
            // =====================
            {
                id: "curriculo_profissional",
                nome: "Curr√≠culo Profissional do Zero",
                area: "Carreira",
                tipo: "gratuito",
                certificado: false,
                link: "https://www.canva.com/",
                descricao: "Como montar curr√≠culo simples, objetivo e sem erros."
            },
            {
                id: "entrevista_emprego",
                nome: "Como se Sair Bem em Entrevistas",
                area: "Carreira",
                tipo: "gratuito",
                certificado: false,
                link: "https://www.youtube.com/",
                descricao: "Comportamento, respostas e postura em entrevistas."
            },
            // extras preenchendo cat√°logo (gen√©ricos, mas √∫teis)
            { id: "cv_basico", nome: "Curr√≠culo ‚Äì B√°sico e Objetivo", area: "Carreira", tipo: "gratuito", certificado: false, link: "https://www.canva.com/", descricao: "Templates e organiza√ß√£o de curr√≠culo (use modelos, n√£o invente)." },
            { id: "entrevista", nome: "Entrevista ‚Äì Como se preparar", area: "Carreira", tipo: "gratuito", certificado: false, link: "https://www.youtube.com/", descricao: "Roteiro de preparo + simula√ß√£o (treino pr√°tico)." },
            { id: "excel_iniciante", nome: "Excel ‚Äì Iniciante", area: "Administra√ß√£o", tipo: "gratuito", certificado: true, link: "https://www.pensarcursos.com.br/", descricao: "Habilidade √∫til para vagas de n√≠vel m√©dio e est√°gio." },
            { id: "atendimento", nome: "Atendimento ao Cliente", area: "Servi√ßos", tipo: "gratuito", certificado: true, link: "https://www.pensarcursos.com.br/", descricao: "Boa porta de entrada para primeiro emprego." },
            { id: "informatica", nome: "Inform√°tica Essencial", area: "Tecnologia", tipo: "gratuito", certificado: true, link: "https://www.pensarcursos.com.br/", descricao: "Base: arquivos, e-mail, documentos, internet." },
            { id: "marketing_basico", nome: "Marketing ‚Äì No√ß√µes b√°sicas", area: "Marketing", tipo: "gratuito", certificado: true, link: "https://www.pensarcursos.com.br/", descricao: "No√ß√µes para com√©rcio/atendimento/digital." },
            { id: "ingles_basico", nome: "Ingl√™s ‚Äì B√°sico (rotina)", area: "Idiomas", tipo: "gratuito", certificado: false, link: "https://www.duolingo.com/", descricao: "Rotina di√°ria pra destravar repert√≥rio." }
        ];

        const empregos = [
            {
                id: "infojobs",
                nome: "InfoJobs ‚Äì Vagas, jovem aprendiz e est√°gio",
                descricao: "Plataforma para encontrar vagas (aprendiz, est√°gio, CLT, tempor√°rio).",
                publicoAlvo: "Jovens e geral",
                regiao: "Sergipe",
                link: "https://login.infojobs.com.br/vagas/emprego"
            },
            {
                id: "go_sergipe",
                nome: "GO Sergipe ‚Äì Vagas e qualifica√ß√£o",
                descricao: "Plataforma do Governo de Sergipe para vagas e cursos de qualifica√ß√£o na regi√£o.",
                publicoAlvo: "Sergipe (Aracaju e regi√£o)",
                regiao: "Sergipe",
                link: "https://gosergipe.se.gov.br/"
            },
            {
                id: "ppe",
                nome: "Programa Primeiro Emprego (PPE)",
                descricao: "Focado em jovens (18‚Äì29) com qualifica√ß√£o + experi√™ncia pr√°tica.",
                publicoAlvo: "Jovens 18‚Äì29",
                regiao: "Sergipe",
                link: "https://gosergipe.se.gov.br/"
            },
            {
                id: "fundat_vagas",
                nome: "FUNDAT ‚Äì Vagas de emprego (Aracaju)",
                descricao: "Divulga oportunidades de emprego e a√ß√µes de qualifica√ß√£o em Aracaju.",
                publicoAlvo: "Geral",
                regiao: "Sergipe",
                link: "https://www.instagram.com/fundat_aracaju/"
            },
            {
                id: "vagas_aracaju",
                nome: "Vagas Aracaju ‚Äì Empregos locais",
                descricao: "Divulga√ß√£o de vagas locais em Aracaju e regi√£o.",
                publicoAlvo: "Geral",
                regiao: "Sergipe",
                link: "https://www.google.com/search?q=vagas+aracaju"
            },
            {
                id: "sine_sergipe",
                nome: "SINE Sergipe",
                descricao: "Intermedia√ß√£o de m√£o de obra e servi√ßos ao trabalhador.",
                publicoAlvo: "Geral",
                regiao: "Sergipe",
                link: "https://www.gov.br/trabalho-e-emprego/pt-br"
            },
            {
                id: "jovem_aprendiz_portais",
                nome: "Vagas Jovem Aprendiz",
                descricao: "Portais com vagas espec√≠ficas para jovem aprendiz.",
                publicoAlvo: "Jovens",
                regiao: "Sergipe",
                link: "https://www.jovemaprendiz.gov.br/"
            },

            // ===============================
            // PRIMEIRO EMPREGO / JOVEM APRENDIZ
            // ===============================
            {
                id: "jovem_aprendiz_brasil",
                nome: "Jovem Aprendiz Brasil",
                descricao: "Portal focado exclusivamente em vagas de jovem aprendiz em todo o pa√≠s.",
                publicoAlvo: "Jovens (14‚Äì24)",
                regiao: "Brasil",
                link: "https://www.jovemaprendizbrasil.com/"
            },
            {
                id: "aprendiz_legal",
                nome: "Aprendiz Legal",
                descricao: "Programa nacional de aprendizagem com empresas parceiras.",
                publicoAlvo: "Jovens",
                regiao: "Brasil",
                link: "https://aprendizlegal.org.br/"
            },
            {
                id: "ciee_aprendiz",
                nome: "CIEE ‚Äì Jovem Aprendiz",
                descricao: "Aprendizagem e est√°gio para estudantes e jovens.",
                publicoAlvo: "Jovens/Estudantes",
                regiao: "Brasil",
                link: "https://portal.ciee.org.br/"
            },

            // ===============================
            // PORTAIS NACIONAIS DE EMPREGO
            // ===============================
            {
                id: "indeed",
                nome: "Indeed",
                descricao: "Um dos maiores buscadores de vagas do mundo.",
                publicoAlvo: "Geral",
                regiao: "Brasil",
                link: "https://br.indeed.com/"
            },
            {
                id: "vagas_com",
                nome: "Vagas.com",
                descricao: "Plataforma de vagas formais e processos seletivos estruturados.",
                publicoAlvo: "Geral",
                regiao: "Brasil",
                link: "https://www.vagas.com.br/"
            },
            {
                id: "catho",
                nome: "Catho",
                descricao: "Portal tradicional de empregos no Brasil.",
                publicoAlvo: "Geral",
                regiao: "Brasil",
                link: "https://www.catho.com.br/"
            },
            {
                id: "trabalha_brasil",
                nome: "Trabalha Brasil",
                descricao: "Vagas em diversas √°reas, incluindo sem experi√™ncia.",
                publicoAlvo: "Geral",
                regiao: "Brasil",
                link: "https://www.trabalhabrasil.com.br/"
            },

            // ===============================
            // EMPREGOS LOCAIS ‚Äî SERGIPE
            // ===============================
            {
                id: "sine_sergipe",
                nome: "SINE Sergipe",
                descricao: "Sistema Nacional de Emprego com vagas locais.",
                publicoAlvo: "Geral",
                regiao: "Sergipe",
                link: "https://www.gov.br/trabalho-e-emprego/pt-br"
            },
            {
                id: "fundat_empregos",
                nome: "FUNDAT ‚Äì Vagas de Emprego",
                descricao: "Vagas divulgadas pela FUNDAT em Aracaju.",
                publicoAlvo: "Geral",
                regiao: "Sergipe",
                link: "https://www.instagram.com/fundat_aracaju/"
            },
            {
                id: "prefeitura_aracaju_vagas",
                nome: "Prefeitura de Aracaju ‚Äì Oportunidades",
                descricao: "Processos seletivos e oportunidades p√∫blicas.",
                publicoAlvo: "Geral",
                regiao: "Sergipe",
                link: "https://aracaju.se.gov.br/"
            },

            // ===============================
            // EST√ÅGIO E TRAINEE
            // ===============================
            {
                id: "nube",
                nome: "NUBE ‚Äì Est√°gios",
                descricao: "Plataforma focada em est√°gio para estudantes.",
                publicoAlvo: "Estudantes",
                regiao: "Brasil",
                link: "https://www.nube.com.br/"
            },
            {
                id: "estagios_com",
                nome: "Est√°gios.com",
                descricao: "Vagas de est√°gio em v√°rias √°reas.",
                publicoAlvo: "Estudantes",
                regiao: "Brasil",
                link: "https://www.estagios.com.br/"
            },
            {
                id: "ciee_estagio",
                nome: "CIEE ‚Äì Est√°gios",
                descricao: "Est√°gios remunerados e n√£o remunerados.",
                publicoAlvo: "Estudantes",
                regiao: "Brasil",
                link: "https://portal.ciee.org.br/"
            },

            // ===============================
            // EMPREGO REMOTO / DIGITAL
            // ===============================
            {
                id: "trampos_co",
                nome: "Trampos.co",
                descricao: "Vagas em marketing, design, comunica√ß√£o e tecnologia.",
                publicoAlvo: "Digital/Cria√ß√£o",
                regiao: "Brasil",
                link: "https://trampos.co/"
            },
            {
                id: "remotar",
                nome: "Remotar",
                descricao: "Vagas remotas no Brasil e exterior.",
                publicoAlvo: "Digital",
                regiao: "Brasil",
                link: "https://remotar.com.br/"
            },
            {
                id: "linkedin_jobs",
                nome: "LinkedIn ‚Äì Vagas",
                descricao: "Empregos, networking e oportunidades profissionais.",
                publicoAlvo: "Geral",
                regiao: "Brasil",
                link: "https://www.linkedin.com/jobs/"
            },

            // ===============================
            // EMPREGOS R√ÅPIDOS / SEM EXPERI√äNCIA
            // ===============================
            {
                id: "getninjas",
                nome: "GetNinjas",
                descricao: "Trabalhos r√°pidos e presta√ß√£o de servi√ßos.",
                publicoAlvo: "Aut√¥nomos/Iniciantes",
                regiao: "Brasil",
                link: "https://www.getninjas.com.br/"
            },
            {
                id: "99freelas",
                nome: "99Freelas",
                descricao: "Freelance para iniciantes e profissionais.",
                publicoAlvo: "Freelancers",
                regiao: "Brasil",
                link: "https://www.99freelas.com.br/"
            },
            {
                id: "workana",
                nome: "Workana",
                descricao: "Plataforma de freelas na Am√©rica Latina.",
                publicoAlvo: "Freelancers",
                regiao: "Brasil",
                link: "https://www.workana.com/"
            },



            // extras preenchendo
            { id: "linkedin", nome: "LinkedIn ‚Äì Vagas e networking", descricao: "Vagas + portf√≥lio e networking (mesmo b√°sico j√° ajuda).", publicoAlvo: "Geral", regiao: "Sergipe", link: "https://www.linkedin.com/" },
            { id: "gupy", nome: "Gupy ‚Äì Plataformas de processo seletivo", descricao: "Muitas empresas usam; voc√™ cria perfil e acompanha etapas.", publicoAlvo: "Geral", regiao: "Sergipe", link: "https://www.gupy.io/" },
            { id: "ciee", nome: "CIEE ‚Äì Est√°gios e aprendizagem", descricao: "Est√°gio e aprendizagem (depende da sua regi√£o e ofertas).", publicoAlvo: "Jovens/estudantes", regiao: "Sergipe", link: "https://portal.ciee.org.br/" }
        ];

        const concursos = [
            {
                id: "estrategia",
                nome: "Estrat√©gia Concursos ‚Äì Abertos",
                nivel: "Portal",
                regiao: "Sergipe",
                link: "https://www.estrategiaconcursos.com.br/abertos"
            },
            {
                id: "sead_concursos",
                nome: "SEAD ‚Äì Concursos (Sergipe)",
                nivel: "Portal",
                regiao: "Sergipe",
                link: "https://sead.se.gov.br/concursos/"
            },
            {
                id: "sead_andamento",
                nome: "SEAD ‚Äì Concursos em andamento",
                nivel: "Portal",
                regiao: "Sergipe",
                link: "https://sead.se.gov.br/concursos/concursos-em-andamento/"
            },
            {
                id: "aracaju_editais",
                nome: "Prefeitura de Aracaju ‚Äì Editais de Concurso e PSS",
                nivel: "Portal",
                regiao: "Sergipe",
                link: "https://transparencia.aracaju.se.gov.br/prefeitura/editais-de-concurso-e-pss/"
            },
            {
                id: "concursos_no_brasil_aracaju",
                nome: "Concursos no Brasil ‚Äì Aracaju/SE",
                nivel: "Portal",
                regiao: "Sergipe",
                link: "https://concursosnobrasil.com/concursos/se/aracaju/"
            },
            {
                id: "ache_concursos_se",
                nome: "AcheConcursos ‚Äì Concursos em Sergipe",
                nivel: "Portal",
                regiao: "Sergipe",
                link: "https://www.acheconcursos.com.br/concursos-sergipe"
            },
            {
                id: "concursos_educacao_se",
                nome: "Concursos Educa√ß√£o ‚Äì Sergipe",
                nivel: "M√©dio/Superior",
                regiao: "Sergipe",
                link: "https://sead.se.gov.br/"
            },
            {
                id: "pss_aracaju",
                nome: "Processos Seletivos Simplificados ‚Äì Aracaju",
                nivel: "Diversos",
                regiao: "Sergipe",
                link: "https://transparencia.aracaju.se.gov.br/"
            },
            {
                id: "concursos_saude_se",
                nome: "Concursos na √Årea da Sa√∫de ‚Äì Sergipe",
                nivel: "T√©cnico/Superior",
                regiao: "Sergipe",
                link: "https://www.acheconcursos.com.br/"
            }

        ];

        // ============================
        // SEED
        // ============================
        async function seedCollection(collectionName, items, mapper) {
            let ok = 0;
            for (const item of items) {
                const data = mapper(item);
                await setDoc(doc(db, collectionName, item.id), data, { merge: true });
                ok++;
            }
            return ok;
        }

        document.getElementById("go").addEventListener("click", async () => {
            try {
                log("Iniciando seed‚Ä¶");

                const c1 = await seedCollection("cursos", cursos, (it) => ({
                    nome: it.nome,
                    nomeLower: slug(it.nome),
                    area: it.area,
                    areaLower: slug(it.area),
                    tipo: it.tipo,
                    tipoLower: slug(it.tipo),
                    certificado: !!it.certificado,
                    link: it.link,
                    descricao: it.descricao || ""
                }));

                const e1 = await seedCollection("empregos", empregos, (it) => ({
                    nome: it.nome,
                    nomeLower: slug(it.nome),
                    descricao: it.descricao || "",
                    publicoAlvo: it.publicoAlvo || "",
                    regiao: it.regiao || "Sergipe",
                    link: it.link
                }));

                const k1 = await seedCollection("concursos", concursos, (it) => ({
                    nome: it.nome,
                    nomeLower: slug(it.nome),
                    nivel: it.nivel || "M√©dio",
                    regiao: it.regiao || "Sergipe",
                    link: it.link
                }));

                log("‚úÖ Seed finalizado!");
                log("cursos: " + c1);
                log("empregos: " + e1);
                log("concursos: " + k1);
                log("Agora volte as regras para read-only (prot√≥tipo).");

            } catch (err) {
                console.error(err);
                log("‚ùå ERRO: " + (err.code || err.message || err));
            }
        });
    </script>
</body>

</html>